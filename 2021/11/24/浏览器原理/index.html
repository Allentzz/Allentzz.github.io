<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Keep Team">
    
    <title>
        
            浏览器原理 |
        
        Keep Theme
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en"};
    KEEP.theme_config = {"toc":{"enable":false,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":false,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":false,"preload":false},"code_copy":{"enable":false,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Keep Theme
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">浏览器原理</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Keep Team</span>
                        
                            <span class="author-label">Lv2</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-11-24 16:07:05
    </span>
    
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h5 id="1、用户输入关键词，地址栏判断是搜索内容还是url地址。"><a href="#1、用户输入关键词，地址栏判断是搜索内容还是url地址。" class="headerlink" title="1、用户输入关键词，地址栏判断是搜索内容还是url地址。"></a>1、用户输入关键词，地址栏判断是搜索内容还是url地址。</h5><h6 id="如果是搜索内容，会使用浏览器默认搜索引擎加上搜索内容合成url；"><a href="#如果是搜索内容，会使用浏览器默认搜索引擎加上搜索内容合成url；" class="headerlink" title="如果是搜索内容，会使用浏览器默认搜索引擎加上搜索内容合成url；"></a>如果是搜索内容，会使用浏览器默认搜索引擎加上搜索内容合成url；</h6><h6 id="如果是域名会加上协议（如https）合成完整的url。"><a href="#如果是域名会加上协议（如https）合成完整的url。" class="headerlink" title="如果是域名会加上协议（如https）合成完整的url。"></a>如果是域名会加上协议（如https）合成完整的url。</h6><h5 id="2、然后按下回车。浏览器进程通过IPC（进程间通信）把url传给网络进程（网络进程接收到url才发起真正的网络请求）。"><a href="#2、然后按下回车。浏览器进程通过IPC（进程间通信）把url传给网络进程（网络进程接收到url才发起真正的网络请求）。" class="headerlink" title="2、然后按下回车。浏览器进程通过IPC（进程间通信）把url传给网络进程（网络进程接收到url才发起真正的网络请求）。"></a>2、然后按下回车。浏览器进程通过IPC（进程间通信）把url传给网络进程（网络进程接收到url才发起真正的网络请求）。</h5><h5 id="3、网络进程接收到url后，先查找有没有缓存。"><a href="#3、网络进程接收到url后，先查找有没有缓存。" class="headerlink" title="3、网络进程接收到url后，先查找有没有缓存。"></a>3、网络进程接收到url后，先查找有没有缓存。</h5><h6 id="有缓存，直接返回缓存的资源。"><a href="#有缓存，直接返回缓存的资源。" class="headerlink" title="有缓存，直接返回缓存的资源。"></a>有缓存，直接返回缓存的资源。</h6><h6 id="没有缓存。（进入真正的网络请求）。首先获取域名的IP，系统会首先自动从hosts文件中寻找域名对应的-IP-地址，一旦找到，和服务器建立TCP连接；如果没有找到，则系统会将网址提交-DNS-域名解析服务器进行-IP-地址的解析。"><a href="#没有缓存。（进入真正的网络请求）。首先获取域名的IP，系统会首先自动从hosts文件中寻找域名对应的-IP-地址，一旦找到，和服务器建立TCP连接；如果没有找到，则系统会将网址提交-DNS-域名解析服务器进行-IP-地址的解析。" class="headerlink" title="没有缓存。（进入真正的网络请求）。首先获取域名的IP，系统会首先自动从hosts文件中寻找域名对应的 IP 地址，一旦找到，和服务器建立TCP连接；如果没有找到，则系统会将网址提交 DNS 域名解析服务器进行 IP 地址的解析。"></a>没有缓存。（进入真正的网络请求）。首先获取域名的IP，系统会首先自动从hosts文件中寻找域名对应的 IP 地址，一旦找到，和服务器建立TCP连接；如果没有找到，则系统会将网址提交 DNS 域名解析服务器进行 IP 地址的解析。</h6><h5 id="4、利用IP地址和服务器建立TCP连接（3次握手）。"><a href="#4、利用IP地址和服务器建立TCP连接（3次握手）。" class="headerlink" title="4、利用IP地址和服务器建立TCP连接（3次握手）。"></a>4、利用IP地址和服务器建立TCP连接（3次握手）。</h5><h5 id="5、建立连接后，浏览器构建数据包（包含请求行，请求头，请求正文，并把该域名相关Cookie等数据附加到请求头），然后向服务器发送请求消息。"><a href="#5、建立连接后，浏览器构建数据包（包含请求行，请求头，请求正文，并把该域名相关Cookie等数据附加到请求头），然后向服务器发送请求消息。" class="headerlink" title="5、建立连接后，浏览器构建数据包（包含请求行，请求头，请求正文，并把该域名相关Cookie等数据附加到请求头），然后向服务器发送请求消息。"></a>5、建立连接后，浏览器构建数据包（包含请求行，请求头，请求正文，并把该域名相关Cookie等数据附加到请求头），然后向服务器发送请求消息。</h5><h5 id="6、服务器接收到消息后根据请求信息构建响应数据（包括响应行，响应头，响应正文），然后发送回网络进程。"><a href="#6、服务器接收到消息后根据请求信息构建响应数据（包括响应行，响应头，响应正文），然后发送回网络进程。" class="headerlink" title="6、服务器接收到消息后根据请求信息构建响应数据（包括响应行，响应头，响应正文），然后发送回网络进程。"></a>6、服务器接收到消息后根据请求信息构建响应数据（包括响应行，响应头，响应正文），然后发送回网络进程。</h5><h5 id="7、网络进程接收到响应数据后进行解析。"><a href="#7、网络进程接收到响应数据后进行解析。" class="headerlink" title="7、网络进程接收到响应数据后进行解析。"></a>7、网络进程接收到响应数据后进行解析。</h5><h6 id="如果发现响应行的返回的状态码为301，302，说明服务器要我们去找别人要数据，找谁呢？找响应头中的Location字段要，Location的内容是需要重定向的地址url。获取到这个url一切重新来过。"><a href="#如果发现响应行的返回的状态码为301，302，说明服务器要我们去找别人要数据，找谁呢？找响应头中的Location字段要，Location的内容是需要重定向的地址url。获取到这个url一切重新来过。" class="headerlink" title="如果发现响应行的返回的状态码为301，302，说明服务器要我们去找别人要数据，找谁呢？找响应头中的Location字段要，Location的内容是需要重定向的地址url。获取到这个url一切重新来过。"></a>如果发现响应行的返回的状态码为301，302，说明服务器要我们去找别人要数据，找谁呢？找响应头中的Location字段要，Location的内容是需要重定向的地址url。获取到这个url一切重新来过。</h6><h6 id="如果返回的状态码为200，说明服务器返回了数据。"><a href="#如果返回的状态码为200，说明服务器返回了数据。" class="headerlink" title="如果返回的状态码为200，说明服务器返回了数据。"></a>如果返回的状态码为200，说明服务器返回了数据。</h6><h5 id="8、好了，获取到数据以什么方式打开呢？打开的方式不对的话也不行。打开的方式就是-Content-Type。这个属性告诉浏览器服务器返回的数据是什么类型的。如果返回的是网页类型则为-text-html，如果是下载文件类型则为-application-octet-stream-等等。打开的方式不对，则得到的结果也不对。"><a href="#8、好了，获取到数据以什么方式打开呢？打开的方式不对的话也不行。打开的方式就是-Content-Type。这个属性告诉浏览器服务器返回的数据是什么类型的。如果返回的是网页类型则为-text-html，如果是下载文件类型则为-application-octet-stream-等等。打开的方式不对，则得到的结果也不对。" class="headerlink" title="8、好了，获取到数据以什么方式打开呢？打开的方式不对的话也不行。打开的方式就是 Content-Type。这个属性告诉浏览器服务器返回的数据是什么类型的。如果返回的是网页类型则为 text/html，如果是下载文件类型则为 application/octet-stream 等等。打开的方式不对，则得到的结果也不对。"></a>8、好了，获取到数据以什么方式打开呢？打开的方式不对的话也不行。打开的方式就是 Content-Type。这个属性告诉浏览器服务器返回的数据是什么类型的。如果返回的是网页类型则为 text/html，如果是下载文件类型则为 application/octet-stream 等等。打开的方式不对，则得到的结果也不对。</h5><h6 id="如果是下载类型，则该请求会被提交给浏览器的下载管理器，同时该请求的流程到此结束。"><a href="#如果是下载类型，则该请求会被提交给浏览器的下载管理器，同时该请求的流程到此结束。" class="headerlink" title="如果是下载类型，则该请求会被提交给浏览器的下载管理器，同时该请求的流程到此结束。"></a>如果是下载类型，则该请求会被提交给浏览器的下载管理器，同时该请求的流程到此结束。</h6><h6 id="如果是网页类型，那么浏览器就要准备渲染页面了。"><a href="#如果是网页类型，那么浏览器就要准备渲染页面了。" class="headerlink" title="如果是网页类型，那么浏览器就要准备渲染页面了。"></a>如果是网页类型，那么浏览器就要准备渲染页面了。</h6><h5 id="9、渲染页面开始。浏览器进程发出“提交文档”（文档是响应体数据）消息给渲染进程，渲染进程接收到消息后会和网络进程建立传输数据的通道，网络进程将“文档”传输给渲染进程。"><a href="#9、渲染页面开始。浏览器进程发出“提交文档”（文档是响应体数据）消息给渲染进程，渲染进程接收到消息后会和网络进程建立传输数据的通道，网络进程将“文档”传输给渲染进程。" class="headerlink" title="9、渲染页面开始。浏览器进程发出“提交文档”（文档是响应体数据）消息给渲染进程，渲染进程接收到消息后会和网络进程建立传输数据的通道，网络进程将“文档”传输给渲染进程。"></a>9、渲染页面开始。浏览器进程发出“提交文档”（文档是响应体数据）消息给渲染进程，渲染进程接收到消息后会和网络进程建立传输数据的通道，网络进程将“文档”传输给渲染进程。</h5><h5 id="10、一旦开始传输，渲染进程便开始渲染界面（详细渲染过程待续。。。）"><a href="#10、一旦开始传输，渲染进程便开始渲染界面（详细渲染过程待续。。。）" class="headerlink" title="10、一旦开始传输，渲染进程便开始渲染界面（详细渲染过程待续。。。）"></a>10、一旦开始传输，渲染进程便开始渲染界面（详细渲染过程待续。。。）</h5><h5 id="11、传输完毕，渲染进程会发出“确认提交”消息给浏览器进程。"><a href="#11、传输完毕，渲染进程会发出“确认提交”消息给浏览器进程。" class="headerlink" title="11、传输完毕，渲染进程会发出“确认提交”消息给浏览器进程。"></a>11、传输完毕，渲染进程会发出“确认提交”消息给浏览器进程。</h5><h5 id="12、浏览器在接收到“确认提交”消息后，更新浏览器界面状态（包括地址栏信息，仟前进后退历史，web页面和网站安全状态）。"><a href="#12、浏览器在接收到“确认提交”消息后，更新浏览器界面状态（包括地址栏信息，仟前进后退历史，web页面和网站安全状态）。" class="headerlink" title="12、浏览器在接收到“确认提交”消息后，更新浏览器界面状态（包括地址栏信息，仟前进后退历史，web页面和网站安全状态）。"></a>12、浏览器在接收到“确认提交”消息后，更新浏览器界面状态（包括地址栏信息，仟前进后退历史，web页面和网站安全状态）。</h5><h5 id="13、页面此时可能还没有渲染完毕，而一旦渲染完毕，渲染进程会发送一个消息给浏览器进程，浏览器接收到这个消息后会停止标签图标的加载动画。"><a href="#13、页面此时可能还没有渲染完毕，而一旦渲染完毕，渲染进程会发送一个消息给浏览器进程，浏览器接收到这个消息后会停止标签图标的加载动画。" class="headerlink" title="13、页面此时可能还没有渲染完毕，而一旦渲染完毕，渲染进程会发送一个消息给浏览器进程，浏览器接收到这个消息后会停止标签图标的加载动画。"></a>13、页面此时可能还没有渲染完毕，而一旦渲染完毕，渲染进程会发送一个消息给浏览器进程，浏览器接收到这个消息后会停止标签图标的加载动画。</h5><h5 id="自此，一个完整的页面形成了。"><a href="#自此，一个完整的页面形成了。" class="headerlink" title="自此，一个完整的页面形成了。"></a>自此，一个完整的页面形成了。</h5><p>1:浏览器进程发出URL请求给网络进程</p>
<p>2:网络进程接收到URL请求之后，便发起网络请求，然后服务器返回HTTP数据到网络进程，网络进程解析HTTP出来响应头数据，并将其转发给浏览器进程</p>
<p>3:浏览器进程接收到网络进程的响应头数据之后，发送CommitNavigation消息到渲染进程，发送CommitNavigation时会携带响应头、等基本信息。</p>
<p>4:渲染进程接收到CommitNavigation消息之后，便开始准备接收HTML数据，接收数据的方式是直接和网络进程建立数据管道</p>
<p>5:最后渲染进程会像浏览器进程“确认提交”，这是告诉浏览器进程，说我已经准备好接受和解析页面数据了</p>
<p>6:最后浏览器进程更新页面状态</p>

        </div>

        

        
            <div class="article-nav">
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/11/17/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">发布订阅模式</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Keep Team</a>
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>








<div class="post-scripts">
    
</div>



</body>
</html>
